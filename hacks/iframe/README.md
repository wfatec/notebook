<!-- TOC -->

- [iframe](#iframe)
    - [`iframe`子页面登陆](#iframe子页面登陆)

<!-- /TOC -->

# iframe

## `iframe`子页面登陆

**问题描述：** 有两个独立的系统，现需要在其中一个系统中通过`iframe`引入另一个系统中的某一个页面，但由于两个系统都有权限验证，且彼此独立，那如何才能自动完成子页面的权限验证呢？

**方案一**：通过`cookie`访问策略，将主系统所在域名设置为引入系统的上一级域名，例如主系统域名为`def.abc.com`，则引入系统域名设置为`gh.def.abc.com`，这样引入系统就能够获取到主系统的`cookie`信息，借此实现通信。例如由主系统后台向引入系统发送登录请求，避开跨域问题，获取到临时`token`，并设置到`cookie`中，则可以避开引入系统的权限验证。

**方案二**：通过`iframe`的`src`属性，在其`url`链接后加入`hash`，此时需要修改引入系统的前端代码，可以用定时器等方法监测`url`的`hash`值变化，作出相应的鉴权处理。